(self.webpackChunkgenesis_test_task=self.webpackChunkgenesis_test_task||[]).push([[449],{3219:function(e,n,t){"use strict";t.d(n,{n:function(){return a}});var s=t(2791),r=t(5175),o=(t(3540),t(184)),a=function(e){var n=s.useRef(null),t=s.useRef(null),a=e.options,i=e.onReady;return s.useEffect((function(){if(t.current){var e=t.current;e.autoplay(a.autoplay),e.src(a.sources)}else{var s=document.createElement("video-js");s.classList.add("vjs-big-play-centered"),n.current.appendChild(s);var o=t.current=(0,r.Z)(s,a,(function(){i&&i(o)}))}}),[a,n,i]),s.useEffect((function(){var e=t.current;return function(){e&&!e.isDisposed()&&(e.dispose(),t.current=null)}}),[t]),(0,o.jsx)("div",{"data-vjs-player":!0,children:(0,o.jsx)("div",{ref:n})})}},7466:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var s=t(4165),r=t(5861),o=t(9439),a=t(2791),i=t(7689),c=t(4390),u={container:"LessonPage_container__kcEpz",videoContainer:"LessonPage_videoContainer__4-f8C",lessonsListContainer:"LessonPage_lessonsListContainer__jIqww",title:"LessonPage_title__ta86M",lessonTitle:"LessonPage_lessonTitle__4RN-J",description:"LessonPage_description__qP5Oa",info:"LessonPage_info__+7+fg",listItem:"LessonPage_listItem__7a3xV",lockedVideoInfo:"LessonPage_lockedVideoInfo__MxVAJ"},l=t(1831),d=t(9126),p=t(1686),f=t.n(p),v=t(3219),h=t(184),m=function(){var e=localStorage.getItem("Button")?localStorage.getItem("Button"):null,n=(0,i.s0)(),t=(0,i.UO)().id,p=(0,a.useState)(e),m=(0,o.Z)(p,2),g=m[0],x=m[1],_=(0,a.useState)(null),j=(0,o.Z)(_,2),k=j[0],Z=j[1],w=(0,a.useState)(null),y=(0,o.Z)(w,2),C=y[0],L=y[1],I=(0,a.useState)(!1),S=(0,o.Z)(I,2),N=S[0],b=S[1],P=(0,a.useState)(null),R=(0,o.Z)(P,2),T=R[0],A=R[1],O=a.useRef(null);if((0,a.useEffect)((function(){t||(n("/"),f().Notify.info("Choose course first, please"));var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,(0,c.Y)(t);case 4:n=e.sent,Z(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(C.message);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e(t)}),[t,C,n]),k){var V=k.lessons,E=k.title,z=k.description,B=k.duration,M=k.rating,U=k.previewImageLink;V.sort((function(e,n){return e.order-n.order}));var q=function(e){!function(e){A(V.find((function(n){return n.id===e})))}(e),localStorage.setItem("Button",e),x(e)},D={controls:!0,responsive:!0,fluid:!0,autoplay:!0,sources:[{src:(null===T||void 0===T?void 0:T.link)||V[0].link,type:"application/x-mpegURL"}],techOrder:["html5"]};return(0,h.jsxs)("div",{className:u.container,children:[N?(0,h.jsx)(l.a,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{className:u.title,children:E}),(0,h.jsx)("div",{className:u.videoContainer,children:(0,h.jsx)("img",{src:U+"/cover.webp",alt:E})}),(0,h.jsxs)("div",{className:u.videoInfo,children:[(0,h.jsx)("p",{className:u.description,children:z}),(0,h.jsxs)("div",{className:u.info,children:[(0,h.jsxs)("p",{children:["Rating: ",M]}),(0,h.jsxs)("p",{children:["Duration: ",Math.round(B/60)," min"]})]}),(0,h.jsx)("h3",{className:u.lessonTitle,children:"Lessons:"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("ul",{className:u.lessonsListContainer,children:null===V||void 0===V?void 0:V.map((function(e){return(0,h.jsx)("li",{className:u.listItem,children:(0,h.jsxs)("button",{onClick:function(){return q(e.id)},className:g===e.id?"active":void 0,children:[e.order,".",e.title,"locked"===e.status&&(0,h.jsx)(d.z0y,{})]})},e.id)}))}),"locked"===(null===T||void 0===T?void 0:T.status)?(0,h.jsxs)("div",{className:u.lockedVideoInfo,children:[(0,h.jsx)("span",{children:"This video is Locked "}),(0,h.jsx)(d.z0y,{})]}):(0,h.jsx)(v.n,{options:D,onReady:function(e){O.current=e,localStorage.getItem("Seconds")&&e.currentTime(localStorage.getItem("Seconds")),e.on("timeupdate",(function(){localStorage.setItem("Seconds",e.cache_.currentTime)}))}})]})]})]}),null!==C&&(0,h.jsxs)("p",{children:["Oops, some error occured... Message: ",C]})]})}}},4390:function(e,n,t){"use strict";t.d(n,{V:function(){return i},Y:function(){return c}});var s=t(4165),r=t(5861),o=t(1243);o.Z.defaults.baseURL="".concat("https://api.wisey.app/api/v1");var a=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/auth/anonymous?platform=subscriptions",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:n=e.sent,t=n.data.token,o.Z.defaults.headers.common.Authorization="Bearer ".concat(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var t}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:return e.next=5,o.Z.get("/core/preview-courses",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return n=e.sent,t=n.data,e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:return e.next=5,o.Z.get("/core/preview-courses/".concat(n),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},5893:function(){}}]);
//# sourceMappingURL=449.c05ff57b.chunk.js.map